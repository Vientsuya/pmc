(this.webpackJsonppmc=this.webpackJsonppmc||[]).push([[0],{11:function(n,t,e){},12:function(n,t,e){"use strict";e.r(t);var c=e(2),r=e.n(c),a=e(5),u=e.n(a),o=e(0),i=e(3),s={stack:Array(21).fill(""),programRunning:!1,AC:0,PC:0},j=function(){return Object.assign({},s)},b=["LOAD","STORE","ADD","SUB","MULT","DIV","MOD"],l=e(1),O=Object(c.createContext)(void 0),f=function(){var n=Object(c.useContext)(O);if(void 0===n)throw new Error("useMemory must be used within a MemoryProvider");return n},C=function(n){var t=n.children,e=Object(c.useState)(j()),r=Object(i.a)(e,2),a=r[0],u=r[1],s=function(n){return(n+1)%21},b=function n(t,e){switch(t){case"$":return Number(e);case"@":return Number(a.stack[e]);case"&":return Number(a.stack[n("@",e)]);default:throw new Error('Unhandled instruction "'.concat(t,'" with value: ').concat(e," !"))}},f={NULL:function(n,t){u((function(n){return Object(o.a)(Object(o.a)({},n),{},{PC:s(n.PC)})}))},STOP:function(n,t){return 0},LOAD:function(n,t){u((function(e){return Object(o.a)(Object(o.a)({},e),{},{AC:b(n,t),PC:s(e.PC)})}))},STORE:function(n,t){u((function(e){return Object(o.a)(Object(o.a)({},e),{},{stack:e.stack.map((function(e,c){return c===b(n,t)?a.AC:e})),PC:s(e.PC)})}))},JUMP:function(n,t){u((function(e){return Object(o.a)(Object(o.a)({},e),{},{PC:b(n,t)})}))},JNEG:function(n,t){a.AC<0?u((function(e){return Object(o.a)(Object(o.a)({},e),{},{PC:b(n,t)})})):u((function(n){return Object(o.a)(Object(o.a)({},n),{},{PC:s(n.PC)})}))},JZERO:function(n,t){0!==a.AC?u((function(n){return Object(o.a)(Object(o.a)({},n),{},{PC:s(n.PC)})})):u((function(e){return Object(o.a)(Object(o.a)({},e),{},{PC:b(n,t)})}))},ADD:function(n,t){u((function(e){return Object(o.a)(Object(o.a)({},e),{},{AC:Number(e.AC)+b(n,t),PC:s(e.PC)})}))},SUB:function(n,t){u((function(e){return Object(o.a)(Object(o.a)({},e),{},{AC:Number(e.AC)-b(n,t),PC:s(e.PC)})}))},MULT:function(n,t){u((function(e){return Object(o.a)(Object(o.a)({},e),{},{AC:e.AC*b(n,t),PC:s(e.PC)})}))},DIV:function(n,t){u((function(e){return Object(o.a)(Object(o.a)({},e),{},{AC:e.AC/b(n,t),PC:s(e.PC)})}))},MOD:function(n,t){u((function(e){return Object(o.a)(Object(o.a)({},e),{},{AC:e.AC%b(n,t),PC:s(e.PC)})}))},OR:function(n,t){u((function(e){return Object(o.a)(Object(o.a)({},e),{},{AC:e.AC||b(n,t)?1:0,PC:s(e.PC)})}))},AND:function(n,t){u((function(e){return Object(o.a)(Object(o.a)({},e),{},{AC:e.AC&&b(n,t)?1:0,PC:s(e.PC)})}))},NOT:function(n,t){u((function(e){return Object(o.a)(Object(o.a)({},e),{},{AC:b(n,t)?1:0,PC:s(e.PC)})}))}},C={memory:a,setMemory:u,commands:f};return Object(l.jsx)(O.Provider,{value:C,children:t})},d=function(n){var t=n.lineNumber,e=f(),r=e.memory,a=e.setMemory,u=Object(c.useState)(""),s=Object(i.a)(u,2),j=s[0],O=s[1],C=Object(c.useState)(!1),d=Object(i.a)(C,2),m=d[0],v=d[1],p=Object(c.useState)([]),P=Object(i.a)(p,2),h=P[0],x=P[1],g=t===r.PC&&r.programRunning,A=g?"current-line-num":"line-count-num",N=g?"current-line-input":"";return Object(l.jsxs)("div",{className:"line",children:[Object(l.jsxs)("div",{className:"".concat(A," ").concat(m?"focused-line":""),children:[t,"."]}),Object(l.jsxs)("div",{className:"auto-complete-text-box",children:[Object(l.jsx)("input",{className:"".concat(N," ").concat(j?"input-error":""),type:"text",onFocus:function(){v(!0)},onBlur:function(n){var t;v(!1),O(""===(t=n.target.value)||RegExp(/[\w]+ [$@&]+ \d+/).test(t)?"":"Invalid Format")},disabled:r.programRunning,value:r.stack[t],onChange:function(n){!function(n){var e=n.target.value.toUpperCase();a((function(n){return Object(o.a)(Object(o.a)({},n),{},{stack:n.stack.map((function(n,c){return c===t?e:n}))})}))}(n),function(n){var t=n.target.value,e=[];if(t.length>0){var c=new RegExp("^".concat(t),"i");e=b.sort().filter((function(n){return c.test(n)}))}x(e)}(n)}}),Object(l.jsx)("div",{className:"suggestion-box",children:0===h.length?null:Object(l.jsx)("ul",{children:h.map((function(n,e){return Object(l.jsx)("li",{className:"suggestion",onClick:function(){return e=n,a((function(n){return Object(o.a)(Object(o.a)({},n),{},{stack:n.stack.map((function(n,c){return t===c?e:n}))})})),void x([]);var e},children:n},e)}))})})]})]})},m=function(n){var t=n.lineCount;return Object(l.jsx)("div",{className:"line-container",children:Array.from({length:t},(function(n,t){return Object(l.jsx)(d,{lineNumber:t},t)}))})},v=function(){var n=f().memory;return Object(l.jsxs)("div",{className:"register-values",children:[Object(l.jsxs)("span",{children:["AC: ",n.AC]}),Object(l.jsxs)("span",{children:["PC: ",n.PC]})]})},p=function(){var n=Object(c.useState)(21),t=Object(i.a)(n,1)[0];return Object(l.jsxs)("div",{className:"editor",children:[Object(l.jsx)(v,{}),Object(l.jsx)(m,{lineCount:t})]})},P=(e(11),function(){var n=f(),t=n.memory,e=n.setMemory,c=n.commands,r=function(n){if(console.log("[".concat(t.PC,"]: "),{operation:n}),!n||!isNaN(n))return c.NULL(null,null);var e=function(n){var t=n.trim().split(" "),e=Object(i.a)(t,3),c=e[0],r=e[1],a=e[2];return console.log({command:c,addressType:r,value:a}),{command:c,addressType:r,value:a}}(n),r=e.command,a=e.addressType,u=e.value;if(!(r in c))throw new Error('Unknown command "'.concat(r,'"'));return c[r.toUpperCase()](a,u)},a=t.programRunning,u=!t.programRunning,s=!t.programRunning||0!==t.PC;return Object(l.jsxs)("div",{className:"main-container",children:[Object(l.jsx)(p,{}),Object(l.jsxs)("div",{className:"button-box",children:[Object(l.jsxs)("select",{className:"line-number-select",children:[Object(l.jsx)("option",{value:"20",children:"20"}),Object(l.jsx)("option",{value:"25",children:"25"}),Object(l.jsx)("option",{value:"30",children:"30"}),Object(l.jsx)("option",{value:"40",children:"40"})]}),Object(l.jsx)("button",{className:"run-program",disabled:a,onClick:function(){console.log(t),e((function(n){return Object(o.a)(Object(o.a)({},n),{},{programRunning:!0})}))},children:"ZA\u0141ADUJ DO PAMI\u0118CI"}),Object(l.jsx)("button",{disabled:u,onClick:function(){return r(t.stack[t.PC])},children:"WYKONAJ INSTRUKCJE"}),Object(l.jsx)("button",{disabled:s,onClick:function(){t.stack.forEach((function(n){r(n)})),e((function(n){return Object(o.a)(Object(o.a)({},n),{},{programRunning:!1})}))},children:"WYKONAJ CA\u0141Y PROGRAM"}),Object(l.jsx)("button",{onClick:function(){e(j())},children:"RESET"})]})]})});u.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(C,{children:Object(l.jsx)(P,{})})}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.b8639d3d.chunk.js.map